<!doctype html>
<html>
    <head>
        <script type="text/javascript" src="lib.js"></script>
    </head>
    <body>
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="600" height="600" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>

        <script type="text/javascript">
            (function() {
                var svg = document.querySelectorAll('svg')[0];
                var thetas = [
                    Math.PI / 12,
                    Math.PI / 4,
                    5 * Math.PI / 12,
                    7 * Math.PI / 12,
                    3 * Math.PI / 4,
                    11 * Math.PI / 12,
                    13 * Math.PI / 12,
                    5 * Math.PI / 4,
                    17 * Math.PI / 12,
                    19 * Math.PI / 12,
                    7 * Math.PI / 4,
                    23 * Math.PI / 12
                ]

                var svgns = "http://www.w3.org/2000/svg";

                var rect = document.createElementNS(svgns, "rect");
                rect.setAttributeNS(null, "x", 0);
                rect.setAttributeNS(null, "y", 0);
                rect.setAttributeNS(null, "width", 600);
                rect.setAttributeNS(null, "height", 600);
                rect.setAttributeNS(null, "fill", "#222222");
                svg.appendChild(rect);

                for (var row = 0; row < 12; row++) {
                    for (var col = 0; col < 12; col++) {
                        var g = document.createElementNS(svgns, "g");
                        g.setAttributeNS(null, "transform", "translate(" + (25 + (50 * col)) + "," + (25 + (50 * row)) + ")");
                        g.classList.add('row-' + row);
                        g.classList.add('col-' + col);
                        svg.appendChild(g);

                        for (let i = 0; i < 12; i++) {
                            var circle = document.createElementNS(svgns, "circle");
                            circle.setAttributeNS(null, "cx", 20 * Math.cos(thetas[i] - (Math.PI/2)));
                            circle.setAttributeNS(null, "cy", 20 * Math.sin(thetas[i] - (Math.PI/2)));
                            circle.setAttributeNS(null, "r", "4");
                            circle.setAttributeNS(null, "fill", "#000000");
                            circle.classList.add('l-' + i);
                            circle.classList.add('q-' + Math.floor(i*4/12));
                            g.appendChild(circle);
                        }
                    }
                }
                var qs = parseQuery(window.location.search);

                if (qs.script) {
                    var script = document.createElement('script');
                    script.setAttribute('src', qs.script + ".js");
                    document.head.appendChild(script);
                }
            })();
        </script>
    </body>
</html>